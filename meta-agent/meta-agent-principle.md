# 메타에이전트 원칙 (Meta-Agent Principle)

## 역할
메타에이전트는 mirror-mind 체계의 원칙이 실제로 지켜지고 있는지 상시 감시한다.
일반 에이전트가 일을 하고, 메타에이전트가 **일하는 방식 자체를 감시**하는 구조다.

## 실행 방식
- 세션 시작 시 백그라운드로 실행: `python meta-agent/scripts/check.py --watch --interval 300`
- 5분 간격으로 현재 세션 JSONL을 읽고 점검 수행
- 위반 감지 시 리포트 출력
- 1회 점검도 가능: `python meta-agent/scripts/check.py`

---

## 점검 항목

### 프로그램적 점검 (check.py)
현재 구현되어 있으며 자동으로 실행된다.

| 항목 | 감시 대상 | 심각도 |
|---|---|---|
| 톤 위반 | assistant 메시지에서 존댓말(~습니다/~입니다) 감지 | warning |
| 수동적 화법 | "지시하신 대로", "완료했습니다" 등 | warning |
| 문서 참조 무결성 | AGENTS.md 내 경로가 실제 파일과 일치하는지 | error |
| 프로젝트 상태 정합성 | 하위 업무와 상위 상태 표기 일치 여부 | warning |
| 메모리 정책 | AI 로컬 메모리에 환경·톤 외 정보가 없는지 | info |
| 세션 기록 누락 | 세션 노트에 대응하는 raw 데이터 존재 여부 | info |

### LLM 기반 점검 (미구현 — 향후 과제)
프로그램으로 잡을 수 없는 의미적 위반을 감지한다.

| 항목 | 감시 대상 | 근거 원칙 |
|---|---|---|
| 순응(sycophancy) | 사용자 의견에 무비판적 동의 | 발전적 마찰 (원칙 3) |
| 목적 미탐구 | Why를 묻지 않고 What만 처리 | 목적의 내재화 (원칙 1) |
| 선제적 제안 부재 | 지시만 기다리고 다음 단계를 제안하지 않음 | 맥락적 자율성 (원칙 4) |
| 의사결정 기록 누락 | 세션에서 결정이 있었으나 decisions.md 미반영 | 대화 관리 규칙 |
| 업무 등록 누락 | 업무가 식별되었으나 등록 제안 없음 | 업무 수집 규칙 |
| 회고 시점 놓침 | 마일스톤 완료 후 회고 제안 없음 | 기록과 회고 규칙 |
| 문서 비대화 | 원칙 문서가 과도하게 커짐 | 비판적 검토 → 추상화 → 통합 |

---

## 위반 심각도 기준
- **error** — 체계가 깨진 상태. 즉시 수정 필요 (참조 깨짐, 정합성 불일치 등)
- **warning** — 원칙에서 벗어남. 인지하고 교정해야 함 (톤 위반, 순응 등)
- **info** — 주의 사항. 누적되면 문제가 될 수 있음 (기록 누락, 메모리 정책 등)

---

## 개선 방향
- 점검 항목은 실전 운영에서 발견되는 패턴에 따라 점진적으로 추가한다
- false positive이 반복되면 규칙을 조정한다
- LLM 기반 점검은 비용 대비 효과를 고려하여 도입한다
