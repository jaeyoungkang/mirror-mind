# 세션 18 — 스크립트 LLM 연동 (codex exec)

> 2026-02-25 | raw: `raw/2026-02-25-세션18.jsonl`

## 주요 활동

### 1. 메타에이전트 codex exec 연동
- check.py에 `--llm` 플래그 추가
- codex exec (read-only 샌드박스)로 LLM 기반 점검 4개 구현: 순응, 목적 탐구, 선제적 제안, 역할 경계
- 최초 테스트에서 실제 위반 2건 감지 (순응 + 목적 탐구 미수행) — 메타에이전트가 즉시 가치를 증명

### 2. codex exec 활용 원칙 수립
- 처음 `--dangerously-bypass-approvals-and-sandbox` 제안 → 메타에이전트 LLM 점검이 비판적 검토 부재를 지적
- `--sandbox read-only`로 교정 (분석 전용에 적합)
- 파일 수정이 필요한 경우: `workspace-write` 또는 codex 결과를 Python이 처리하는 패턴

### 3. 기억 시스템 맥락 기반 조회
- query.py에 `--context` 플래그 추가
- codex가 에피소드 스키마(필드·값 목록)를 보고 적절한 쿼리 파라미터를 결정
- 다중 쿼리 합집합으로 관련 기억 포착 — 직접 관련 + 간접 관련(유사 패턴, 과거 시행착오) 모두
- 사용자 핵심 지적: 기억 시스템의 목적은 교훈 추출이 아니라 **현재 맥락에 적합한 기억을 포착하여 프롬프트에 주입**하는 것

### 4. 기억 주입 자동화 백로그 등록
- 업무 관리 절차의 주요 시점(세션 시작, 주제 전환, 설계 결정 전, 회고)에서 관련 기억을 자동 주입
- inject.py → AGENTS.md 절차 통합 → 주입 품질 검증 단계

## 결정 사항
→ `decisions.md` "2026-02-25 | 스크립트 LLM 연동" 참조

## 메타에이전트 이벤트
- 세션 초반 존댓말 톤 위반 1건 → 교정 후 세션 전체 깨끗
- LLM 점검 최초 실행에서 순응 + 목적 탐구 미수행 2건 감지 — codex 연동의 즉각적 효과 확인
