# 세션 14 — 패널 레이아웃, 논문 패널 고도화, 기억 시스템 재설계, 관계 형성

## 요약
Light House의 UI 구조와 핵심 시스템을 대폭 개편한 세션. 3컬럼 레이아웃 확정, 논문 패널 트리아지 고도화, 기억 시스템 에피소드 기반 재설계, 관계 형성 원칙 심화를 진행했다.

## 논의 흐름

### 1. 3컬럼 레이아웃 확정
- 세션 사이드바 제거, 3컬럼 고정 레이아웃
- 여러 배치 후보(A~E) 검토 후 **C안 확정**: 노트북(3) | 논문(4) | 연구(3)
- 논문 패널에 최대 비율 — 트리아지가 가장 빈번한 활동
- 노트북 좌측 — 시선 시작점, 논문 패널과 인접

### 2. 패널 관리 시스템
- 3개 패널 모두 독립 접기/펼치기 가능 (노트북 포함)
- corca가 연구 활동 전환 시점에 패널 구성을 **제안** (propose 메커니즘 활용)
- 자동 전환이 아니라 제안 — 제어감 유지

### 3. 논문 패널 고도화
- 트리아지 테이블: 제목/저자/학회/년도/인용수/중요도, 정렬/필터, 인라인 초록
- 발견 맥락 표시: 검색 쿼리, snowballing 출처 기록
- Snowballing 연결: 참조/인용 수 표시, 허브 논문 강조
- 클러스터 그룹 뷰: 방법론별/접근별 그룹핑 대체 뷰

### 4. 관계 형성 고도화
- 온보딩을 "단계"가 아니라 **연속적 관계 성장 과정**으로 재정의
- 경험의 3차원: 활동 + 결과 + 관계
- 시드 경험 목록(정적) + 동적 경험 확장(3회 반복 패턴)
- 관계 깊이 4단계: 초기 → 형성 → 신뢰 → 깊은 협력
- 신뢰 전환에는 "어려운 경험"(실패 후 회복, 의견 충돌 후 조율)이 필수
- ai-service-design-principles.md에 확장 반영 완료

### 5. 기억 시스템 재설계
- research_journeys(4줄 요약) → **memory_episodes**(에피소드 세그멘테이션)로 대체
- LLM이 대화를 의미 단위로 쪼개고 구조화 분류 (activity, scenario, emotion, outcome, relationship, milestone)
- 도구 결과는 요약 + artifact ID 참조로 저장
- 벡터 검색 없이 구조화 쿼리만으로 시작
- **에피소드 scope(라이프사이클)** 도입: permanent / scenario / task / archive
- 모듈화 원칙: lighthouse에 종속시키지 않고 독립 모듈로 설계

### 6. 첫 방문 프롬프트 점검
- 기존 문제 진단: "바로 검색 유도", "역량 과시", 체크리스트에 대화 전략 부재
- FIRST_VISIT_SECTION 전면 교체안 작성: 따뜻한 반응 → 맥락 파악 → 자연스러운 전환 3단계

## 구현 에이전트에게 전달된 프롬프트
1. 사이드 패널 구조 개편 (3컬럼, 사이드바 제거)
2. 패널 레이아웃 개편 + 패널 관리 시스템 (C안, 접기/펼치기, corca 제안)
3. 논문 패널 고도화 (트리아지, 맥락, snowballing, 클러스터)
4. 기억 시스템 재설계 (memory_episodes, 에피소드 세그멘테이션, 모듈화)
5. 에피소드 scope 보강 (permanent/scenario/task/archive)
6. 첫 방문 프롬프트 개선 (FIRST_VISIT_SECTION 교체)

## 다음 세션 TODO
- 구현 에이전트 결과물 검토 + 반복 다듬기
- 시나리오 1, 2 end-to-end 시연 검증
- 관계 형성 흐름 실제 체험 → 어색한 부분 조정
- service-principles.md에 기억 시스템/scope 설계 반영
