# 공동 도구 사용 — 설계 문서

> 상위 참조: [service-principles.md](service-principles.md) §상호 보완적 시너지

---

## 핵심 원칙

**에이전트가 사용하는 도구는 사용자도 사용할 수 있어야 한다.**

현재 Lighthouse에서 사용자가 할 수 있는 건 대화뿐이다. 검색, 분석, 문서 작성은 모두 AI가 수행한다. 이건 "동료"가 아니라 "비서에게 시키는 구조"다. 둘 다 검색하고 둘 다 문서를 편집할 수 있어야 진정한 협업이다.

---

## 비유: 두 사람이 책상 앞에서 논문을 탐색한다

책상 위에 논문을 펼쳐두고, 각자 읽으면서 분류하고, 합치고, 토론한다. 키보드를 번갈아가며 쓴다. **하나의 작업 공간을 공유한다.**

이 비유에서 도출한 설계 원칙:
- 행동과 대화가 분리되지 않는다. 둘 다 같은 공간에서 일어난다
- 여러 결과물을 동시에 펼쳐볼 수 있어야 한다 (세로 스크롤 단일 스트림이 아님)
- 사용자의 행동은 빠른 직관적 탐색, AI의 행동은 깊은 분석적 탐색. 역할이 다르다

---

## Everything is a document

모든 것이 문서다. 한 장짜리 큰 문서가 아니라, **작은 단위의 문서들이 나란히 존재**한다.

| 행동 | 결과 |
|------|------|
| 검색 | 검색 결과 문서 |
| 논문 분석 | 분석 문서 |
| 분류 정리 | 정리 문서 |
| 논의/대화 | 논의 문서 |
| 메모 | 메모 문서 |
| 종합 분석 | 종합 문서 |

사용자도 AI도 문서를 만들고 편집한다. 이 문서들을 나란히 펼쳐놓는 것이 워크스페이스다.

```
┌─ 검색: transformer ─┐ ┌─ 논의 ──────────────┐ ┌─ 핵심 논문 정리 ────┐
│                      │ │                      │ │                      │
│ • Attention Is...    │ │ 사용자: 이 논문이    │ │ 1. Attention Is...   │
│ • BERT               │ │ 핵심인것같아         │ │   → 셀프어텐션 최초  │
│ • GPT-4 Technical    │ │                      │ │                      │
│ • Vision Transformer │ │ AI: 동의. 이유는     │ │ 2. BERT              │
│   ...                │ │ 인용수 + 후속 연구   │ │   → 양방향 맥락 이해 │
│                      │ │ 영향력 때문이다.     │ │                      │
│ [검색바]             │ │                      │ │ (사용자가 직접 정리) │
└──────────────────────┘ └──────────────────────┘ └──────────────────────┘
```

### 현재 구조와 근본적으로 달라지는 것

1. **대화 영역 vs 문서 패널 분리가 사라진다** — 대화도 문서의 하나
2. **사용자도 문서를 만든다** — 메모, 정리, 분류를 직접 작성
3. **AI도 문서를 만든다** — 분석, 종합, 제안을 문서로
4. **문서 안에서 행동이 일어난다** — 검색 문서에서 바로 검색, 논문 클릭하면 분석 문서 생성
5. **여러 문서를 나란히 펼쳐볼 수 있다** — 현재의 세로 스크롤 단일 스트림이 아님

---

## 코드 재작성

기존 구조를 유지할 필요 없다. 처음부터 다시 만든다. 기존 코드는 재료 정도로 참고.

---

## 1차 구현 (완료)

패널 검색바 + 논문 클릭 분석 트리거. 기능은 동작하지만 UX가 근본적으로 달라지지 않았다. 위 방향으로 발전시켜야 한다.

---

## 다음 단계

→ [document-architecture.md](document-architecture.md) — 문서 중심 아키텍처 재설계 문서로 구체화됨

---

## 설계 원칙 반영

이 변경은 service-principles.md §2 상호 보완적 시너지의 구체화다:

> "역할 분담은 고정이 아니라, AI 동료가 맥락에 따라 능동적으로 제안한다"

현재는 역할이 고정되어 있다 — AI만 도구를 쓰고, 사용자는 대화만 한다. 이걸 깨는 것이 이 작업의 목적이다.
